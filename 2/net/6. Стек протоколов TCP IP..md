### Стек протоколов TCP/IP

* Протоколы TCP/IP стали популярны при создании сети ARPANET
* ARPANET объединяла сети, использующие различные технологии
* Необходимо было разработать модель, которая позволила бы объединять сети на основе стека TCP/IP (1974 г.)
* Названа в соответствии со своими двумя основными протоколами

Модель включает:
 * 4 сетевых уровня
 * Протоколы для каждого уровня

![](http://habrastorage.org/files/5db/868/9c8/5db8689c88294f45af987a71a8769e69.png)

#### Прикладной уровень
Cоответствует трем верхним уровням модели OSI (прикладному, представления и сеансовому.):

Он объединяет сервисы, предоставляемые системой пользовательским приложениям.
##### Протоколы прикладного уровня:
* `FTP` - протокол передачи файлов (File Transfer Protocol)
* `Telnet` - протокол эмуляции терминала
* `SMTP` - простой протокол передачи почты (Simple Mail Transfer Protocol)
* `HTTP` - протокол передачи гипертекста (Hypertext Transfer Protocol)
* `DNS` (Domain Name System) - протокол обращения к системе доменных имен

#### Транспортный уровень
Протоколы транспортного уровня могут решать проблему негарантированной доставки
сообщений («дошло ли сообщение до адресата?»), а также гарантировать правильную
последовательность прихода данных. В стеке TCP/IP транспортные протоколы определяют,
для какого именно приложения предназначены эти данные.
##### Протоколы транспортного уровня:
* `TCP` — «гарантированный» транспортный механизм с предварительным
установлением соединения, предоставляющий приложению надёжный поток данных,
дающий уверенность в безошибочности получаемых данных, перезапрашивающий
данные в случае потери и устраняющий дублирование данных.
* `UDP` - протокол передачи дейтаграмм без установления соединения. Также его
называют протоколом «ненадёжной» передачи, в смысле невозможности
удостовериться в доставке сообщения адресату, а также возможного перемешивания
пакетов. UDP обычно используется в таких приложениях, как потоковое видео
и компьютерные игры, где допускается потеря пакетов, а повторный запрос затруднён
или не оправдан, либо в приложениях вида запрос-ответ (например, запросы к DNS),
где создание соединения занимает больше ресурсов, чем повторная отправка.

#### Сетевой уровень
Сетевой уровень, называемый также уровнем Интернета, является стержнем всей
архитектуры TCP/IP. Именно этот уровень, функции которого соответствуют сетевому уровню
модели OSI, обеспечивает перемещение пакетов в пределах составной сети, образованной
объединением нескольких подсетей. Протоколы сетевого уровня поддерживают интерфейс с
вышележащим транспортным уровнем, получая от него запросы на передачу данных по
составной сети, а также с нижележащим уровнем сетевых интерфейсов.
##### Протоколы сетевого уровня:
* `Internet Protocol` основной протокол сетевого уровня. В его
задачу входит продвижение пакета между сетями — от одного маршрутизатора к
другому до тех пор, пока пакет не попадет в сеть назначения. В отличие от протоколов
прикладного и транспортного уровней, протокол IP развертывается не только на хостах,
но и на всех маршрутизаторах (шлюзах). Протокол IP — это дейтаграммный протокол,
работающий без установления соединений по принципу доставки с максимальными
усилиями.
* `ICMP` (Internet Control Message Protocol) — протокол межсетевых управляющих
сообщений) — сетевой протокол, входящий в стек протоколов TCP/IP. В основном ICMP
используется для передачи сообщений об ошибках и других исключительных
ситуациях, возникших при передаче данных, например, запрашиваемая услуга
недоступна, или хост, или маршрутизатор не отвечают. Также на ICMP возлагаются
некоторые сервисные функции.
* `DHCP` (Dynamic Host Configuration Protocol) — протокол динамической настройки
узла) — сетевой протокол, позволяющий компьютерам автоматически получать IP-
адрес и другие параметры, необходимые для работы в сети TCP/IP.
* `RIP` (Routing Information Protocol) — один из самых
простых протоколов маршрутизации. Применяется в небольших компьютерных сетях,
позволяет маршрутизаторам динамически обновлять маршрутную информацию
(направление и дальность в транзитивных участках – участках между двумя узлами, по
которым передаются данные), получая ее от соседних маршрутизаторов.
* `ARP` (Address Resolution Protocol) — протокол в
компьютерных сетях, предназначенный для определения MAC адреса по известному IP
адресу.

#### Уровень сетевых интерфейсов
Уровень сетевых интерфейсов описывает, каким образом передаются пакеты данных через
физический уровень, включая кодирование (то есть специальные последовательности бит,
определяющих начало и конец пакета данных). Кроме того, уровень описывает среду
передачи данных (будь то коаксиальный кабель, витая пара, оптическое
волокно или радиоканал), физические характеристики такой среды и принцип передачи
данных (разделение каналов, модуляцию, амплитуду сигналов, частоту сигналов, способ
синхронизации передачи, время ожидания ответа и максимальное расстояние).
Так как для каждой вновь появляющейся технологии разрабатываются собственные
интерфейсные средства, функции этого уровня нельзя определить раз и навсегда, и именно
поэтому нижний уровень стека TCP/IP не регламентируется.
